name: CI

on: pull_request

jobs:
  compile-and-test:
    name: Compile and test
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Install libssl-dev
        run: sudo apt install libssl-dev -y
      - name: Build image
        run: docker build -f test/Dockerfile --tag razor-tests .
      - name: Run tests
        run: docker run -i razor-tests
